{% extends "finance/base.html" %}
{% load mathfilters %}
{% load staticfiles %}

{% block content %}
  <link rel="stylesheet" href="{% static "account.css" %}" type="text/css">

  <div class="user-info-wrapper">
    <div id='user-info'>Account ID: {{ account.name }}</div>
    <div id='user-info'>Payments: {{ number }}</div>
    <div id='user-info'>Total: {{ total }}₽</div>
  </div>

  <div class="add-frame">
    <form action="/users/{{account.user.name}}/{{account.name}}/" method="post">
      {% csrf_token %}
      <input type="text" placeholder="Amount: ₽" name="value" autocomplete="off" required>
      <input type="submit" value="Send">
  </div>

  {% if not charges %}
    <div class="transactions">
      <div id="no_payments">You have no transactions.</div>
    </div>
  {% else %}
    <div class="transactions">
      <table>
        <tr>
          <th>Date, GMT</th>
          <th>Credit, ₽</th>
          <th>Debit, ₽</th>
        </tr>

        {% for charge in charges %}
        <tr>
          <td>{{ charge.date }}</td>
          {% if charge.value > 0 %}
            <td>{{ charge.value }}</td>
            <td></td>
          {% else %}
            <td></td>
            <td>{{ charge.value|abs }}</td>
          {% endif %}
        </tr>
        {% endfor %}
      </table>
    </div>
  {% endif %}

{% endblock %}
